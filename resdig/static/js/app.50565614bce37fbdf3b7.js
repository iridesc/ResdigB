webpackJsonp([1],{"32ZS":function(t,e){},"67c7":function(t,e){},KFot:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("xd7I"),n={name:"Test",props:["testData"],created:function(){setInterval(()=>{console.log("TEST",this.testData)},2e3)},methods:{},data:()=>({hello:"hello world!"})},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("***********TEST*************")]),this._v(" "),e("h1",[this._v(this._s(this.hello))])])},staticRenderFns:[]};var r=s("VU/8")(n,o,!1,function(t){s("f7hR")},"data-v-0699aca8",null).exports,i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"susp"},[this._t("default")],2)},staticRenderFns:[]};var l=s("VU/8")({name:"SuspArea"},i,!1,function(t){s("QAFl")},"data-v-59e1a0f0",null).exports,d={name:"StatusBar",props:["tasks","engines","keywordAmount","resAmount"],data:()=>({})},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-nav",{staticClass:"text-center"},[s("b-container",[s("b-row",[s("b-col",{attrs:{sm:"0"}},[s("b-badge",[t._v(t._s(this.keywordAmount))])],1),t._v(" "),s("b-col",{attrs:{sm:"0"}},[s("b-badge",[t._v(t._s(this.resAmount))])],1),t._v(" "),s("b-col",[t._v("\n        Tasks:\n        "),t.tasks.length>0?s("div",t._l(t.tasks,function(e){return s("b-badge",{attrs:{variant:e.style}},[t._v(t._s(e.keyword)+" "+t._s(e.progress))])}),1):s("b-badge",[t._v("当前无任务")])],1),t._v(" "),s("b-col",[t._v("\n        Engines:\n        "),t._l(t.engines,function(e){return s("b-badge",{attrs:{variant:e.isActive?"success":"secondary"}},[t._v(t._s(e.name))])})],2)],1)],1)],1)},staticRenderFns:[]};var u=s("VU/8")(d,c,!1,function(t){s("s+uE")},"data-v-6b60d170",null).exports,p=s("i7YX"),h=s.n(p),m={name:"GussList",props:["keyword"],watch:{keyword:function(t,e){this.guessList=["waiting inputing..."],this.debouncedGuess()}},created:function(){this.debouncedGuess=h.a.debounce(this.guess,1e3)},methods:{guess:function(){if(this.keyword.length>0){this.guessList=["Thinking..."];this.axios.get("j/subject_suggest/",{params:{q:this.keyword},headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","Accept-Language":"zh-CN,zh;q=0.8"}}).then(t=>{console.log("*****************"),console.log(t.data)}).catch(t=>console.log("--------\n",t))}}},data:()=>({guessList:[]})},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"watch-example"}},t._l(t.guessList,function(e,a){return s("li",{key:a},[t._v(t._s(e))])}),0)},staticRenderFns:[]};var v={name:"DigBar",components:{GuessList:s("VU/8")(m,f,!1,function(t){s("jlKe")},"data-v-119f4e12",null).exports},props:["resBoardData","pushAlert"],methods:{dig(){console.log("Dig clicked!",this.keyword);let t=this.keyword;this.axios.post("api/",{reason:"checkKeyword",keyword:t}).then(e=>{let s=e.data.status;console.log(s),"recorded"==s?this.axios.post("api/",{reason:"getRess",keyword:t}).then(e=>{this.pushAlert('"'+t+'"已获取!',"success",1),this.resBoardData.ress=e.data.ress,this.resBoardData.keyword=t,this.resBoardData.open=!0}).catch(t=>this.pushAlert(t,"warning",10)):"digging"==s?(this.pushAlert('"'+t+'"正在挖掘，请查看任务列表！',"info",5),console.log(s)):"notRecord"==s?this.axios.post("api/",{reason:"dig",keyword:t}).then(e=>{this.pushAlert('"'+t+'"未收录，但已加入任务列表，请查看！'),this.resBoardData.open=!1}).catch(t=>this.pushAlert("似乎你的关键字无效！","warning",2)):pushAlert("似乎出了点问题....","warning")}).catch(t=>console.log("--------\n",t))}},data:()=>({keyword:""})},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{class:t.resBoardData.open?"textCenter":"textCenter pageCenter"},[s("b-row",[s("b-col"),t._v(" "),s("b-col",{attrs:{sm:"10",md:"8",lg:"6"}},[s("h1",[t._v("Resdig")]),t._v(" "),s("b-input-group",[s("b-form-input",{attrs:{placeholder:"请输入搜索关键词"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),s("b-input-group-append",[s("b-button",{attrs:{variant:"success"},on:{click:t.dig}},[t._v("Dig")])],1)],1)],1),t._v(" "),s("b-col")],1)],1)},staticRenderFns:[]};var _=s("VU/8")(v,g,!1,function(t){s("lvIo")},"data-v-a72e263e",null).exports,b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.item.info,expression:"item.info"}],staticClass:"speaceX",attrs:{variant:t.item.style,size:"sm"},on:{click:function(e){return t.item.act()}}},[t._v(t._s(t.item.info))]),t._v(" "),s("b-modal",{attrs:{id:t.item.info,title:t.item.info,scrollable:"",centered:"","button-size":"sm"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[t._t("modalFooter")]},proxy:!0}],null,!0)},[[t._t("modalContent")]],2)],1)},staticRenderFns:[]};var k=s("VU/8")({name:"ButtonAndModal",props:["item"]},b,!1,function(t){s("niK1")},"data-v-71c09df4",null).exports,y={name:"MsgBM",components:{ButtonAndModal:k},props:["msgs"],methods:{stirModal(){console.log("Msg clicked!"),this.ModalOn=!this.ModalOn},sendMsg(){console.log("send message!"),console.log(this.message)}},data(){return{msg:{info:"留言",act:this.stirModal,style:"info",modalOn:!1,data:this.msgs}}}},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ButtonAndModal",{attrs:{item:t.msg},scopedSlots:t._u([{key:"modalContent",fn:function(){return[s("b-table",{attrs:{striped:"",hover:"",items:t.msg.data}})]},proxy:!0}])})},staticRenderFns:[]};var w=s("VU/8")(y,B,!1,function(t){s("Q4bz")},"data-v-79c9a65a",null).exports,M={name:"SupBM",components:{ButtonAndModal:k},props:["donors"],methods:{stirModal(){console.log("Sup clicked!"),this.ModalOn=!this.ModalOn}},data(){return{sup:{info:"支持",act:this.stirModal,style:"info",modalOn:!0,data:this.donors}}}},A={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ButtonAndModal",{attrs:{item:t.sup},scopedSlots:t._u([{key:"modalContent",fn:function(){return[s("b-table",{attrs:{striped:"",hover:"",items:t.sup.data}})]},proxy:!0}])})},staticRenderFns:[]};var D=s("VU/8")(M,A,!1,function(t){s("qVtE")},"data-v-181e06fa",null).exports,x={name:"HelpBM",components:{ButtonAndModal:k},methods:{stirModal(){console.log("Help clicked!"),this.ModalOn=!this.ModalOn}},data(){return{help:{info:"幫助",act:this.stirModal,style:"info",modalOn:!1,loaded:!0,data:"mark down feld"}}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ButtonAndModal",{attrs:{item:t.help},scopedSlots:t._u([{key:"modalContent",fn:function(){return[t.help.loaded?s("div",[t._v(t._s(t.help.data))]):s("b-spinner",{attrs:{variant:"success",type:"grow",label:"Spinning"}})]},proxy:!0}])})},staticRenderFns:[]};var R=s("VU/8")(x,S,!1,function(t){s("ngtX")},"data-v-0f4d861a",null).exports,T={name:"MoreBM",components:{ButtonAndModal:k},methods:{stirModal(){console.log("More clicked!"),this.ModalOn=!this.ModalOn}},data(){return{more:{info:"更多",act:this.stirModal,style:"info",modalOn:!1,loaded:!0,data:"MORE mark down feld"}}}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ButtonAndModal",{attrs:{item:t.more},scopedSlots:t._u([{key:"modalContent",fn:function(){return[t.more.loaded?s("div",[t._v(t._s(t.more.data))]):s("b-spinner",{attrs:{variant:"success",type:"grow",label:"Spinning"}})]},proxy:!0}])})},staticRenderFns:[]};var F=s("VU/8")(T,E,!1,function(t){s("SpBX")},"data-v-3feb11c4",null).exports,O={name:"Alert",props:["alertList"],created:function(){setInterval(()=>{0!=this.alertList.length&&0==this.alertData.lastTime&&(this.alertData=this.alertList.pop())},1e3)},methods:{countDown(t){this.alertData.lastTime=t}},data:()=>({alertData:{duration:0,lastTime:0,info:"",style:""}})},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-alert",{attrs:{show:t.alertData.lastTime,variant:t.alertData.style,dismissible:""},on:{dismissed:function(e){t.alertData.lastTime=0},"dismiss-count-down":t.countDown}},[s("p",[t._v(t._s(t.alertData.info))]),t._v(" "),s("b-progress",{attrs:{variant:t.alertData.style,max:t.alertData.duration,value:t.alertData.lastTime,height:"4px"}})],1)},staticRenderFns:[]};var L=s("VU/8")(O,C,!1,function(t){s("67c7")},"data-v-287e013d",null).exports,V={name:"ResBoard",props:["resBoardData"],methods:{},data:()=>({})},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"speace textCenter"},[s("b-row",[s("b-col",[s("h3",[t._v(t._s(t.resBoardData.keyword))])]),t._v(" "),s("b-col",[s("b-button",[t._v("redig")]),t._v(" "),s("b-button",{on:{click:function(e){t.resBoardData.resTableOpen=!t.resBoardData.resTableOpen}}},[t._v(t._s(t.resBoardData.resTableOpen?"close":"open"))])],1)],1),t._v(" "),t.resBoardData.resTableOpen?s("div",[s("b-table",{attrs:{striped:"",hover:"",items:t.resBoardData.ress}})],1):t._e()],1)},staticRenderFns:[]};var $={name:"App",components:{Test:r,SuspArea:l,StatusBar:u,DigBar:_,MsgBM:w,SupBM:D,HelpBM:R,MoreBM:F,ResBoard:s("VU/8")(V,U,!1,function(t){s("vnmX")},"data-v-605bdd0e",null).exports,Alert:L},created:function(){this.axios.interceptors.request.use(function(t){let e=document.cookie;return e&&"post"==t.method&&(t.headers["X-CSRFToken"]=function(t){return/csrftoken=([\w]+)[;]?/g.exec(t)[1]}(e)),t},function(t){return Promise.reject(t)}),this.axios.post("api/",{reason:"getStaticData"}).then(t=>{this.casts=t.data.casts,this.hots=t.data.hots,this.donors=t.data.donors,this.resAmount=t.data.resAmount,this.keywordAmount=t.data.keywordAmount}).catch(t=>this.pushAlert("StaticData get error!!! Please  refresh this page",style="warning")),setInterval(()=>{this.axios.post("api/",{reason:"getDynamicData"}).then(t=>{this.tasks=t.data.tasks,this.engines=t.data.engines,this.msgs=t.data.msgs})},2500)},methods:{pushAlert(t,e="info",s=10){this.alertList.push({duration:s,lastTime:s,info:t,style:e})}},data:()=>({homeLink:"https://resdig.cn",casts:[],hots:[],donors:[],resAmount:0,keywordAmount:0,engines:[],msgs:[],tasks:[],resBoardData:{keyword:"",open:!1,resTableOpen:!0,ress:[]},alertList:[]})},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Alert",{attrs:{alertList:t.alertList}}),t._v(" "),s("StatusBar",{attrs:{tasks:t.tasks,engines:t.engines,keywordAmount:t.keywordAmount,resAmount:t.resAmount}}),t._v(" "),s("DigBar",{attrs:{resBoardData:t.resBoardData,pushAlert:t.pushAlert}}),t._v(" "),s("SuspArea",{scopedSlots:t._u([{key:"default",fn:function(){return[s("MsgBM",{attrs:{msgs:t.msgs}}),t._v(" "),s("SupBM",{attrs:{donors:t.donors}}),t._v(" "),s("HelpBM"),t._v(" "),s("MoreBM")]},proxy:!0}])}),t._v(" "),t.resBoardData.open?s("ResBoard",{attrs:{resBoardData:t.resBoardData}}):t._e()],1)},staticRenderFns:[]};var K=s("VU/8")($,q,!1,function(t){s("32ZS")},null,null).exports,X=s("/ocq");a.default.use(X.a);var z=new X.a({routes:[{path:"/",name:"Resdig",component:K}]}),I=s("Muz9"),j=s.n(I),H=s("Iufj"),G=s.n(H),N=s("wEIx");s("qDBi"),s("KFot");a.default.use(G.a,j.a),a.default.use(N.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:z,components:{App:K},template:"<App/>"})},Q4bz:function(t,e){},QAFl:function(t,e){},SpBX:function(t,e){},f7hR:function(t,e){},jlKe:function(t,e){},lvIo:function(t,e){},ngtX:function(t,e){},niK1:function(t,e){},qDBi:function(t,e){},qVtE:function(t,e){},"s+uE":function(t,e){},vnmX:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.50565614bce37fbdf3b7.js.map